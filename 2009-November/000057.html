<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [aur2-dev] [PATCH 2/2] Add voting for packages.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/aur2-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:aur2-dev%40lists.berlios.de?Subject=Re%3A%20%5Baur2-dev%5D%20%5BPATCH%202/2%5D%20Add%20voting%20for%20packages.&In-Reply-To=%3C4b0ebb78.cf02be0a.2282.30bd%40mx.google.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000054.html">
   <LINK REL="Next"  HREF="000058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[aur2-dev] [PATCH 2/2] Add voting for packages.</H1>
    <B>Chris Brannon</B> 
    <A HREF="mailto:aur2-dev%40lists.berlios.de?Subject=Re%3A%20%5Baur2-dev%5D%20%5BPATCH%202/2%5D%20Add%20voting%20for%20packages.&In-Reply-To=%3C4b0ebb78.cf02be0a.2282.30bd%40mx.google.com%3E"
       TITLE="[aur2-dev] [PATCH 2/2] Add voting for packages.">cmbrannon79 at gmail.com
       </A><BR>
    <I>Thu Nov 26 18:32:43 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000054.html">[aur2-dev] [PATCH 2/2] Add voting for packages.
</A></li>
        <LI>Next message: <A HREF="000058.html">[aur2-dev] [PATCH 2/2] Add voting for packages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57">[ date ]</a>
              <a href="thread.html#57">[ thread ]</a>
              <a href="subject.html#57">[ subject ]</a>
              <a href="author.html#57">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sebastian Nowicki wrote:
&gt;<i> I haven't tested it, but it looks fine (bonus points for adding  
</I>&gt;<i> tests!), at least from a technical point of view.
</I>
Unfortunately, the test harness isn't quite working for me.  I get
an error from django-registration, but that may be because of a problem
with my setup.
Here's my traceback:

Traceback (most recent call last):
  File &quot;build/bdist.linux-i686/egg/registration/tests.py&quot;, line 141, in test_management_command
    management.call_command('cleanupregistration')
  File &quot;/usr/lib/python2.6/site-packages/django/core/management/__init__.py&quot;, line 155, in call_command
    raise CommandError, &quot;Unknown command: %r&quot; % name
CommandError: Unknown command: 'cleanupregistration'

And then I get 4 test failures: 2 from existing tests, 2 from tests that
I added.
Here's a sample traceback:

FAIL: test_search_view (aur.tests.AurViewTests)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;/home/repo/arch/aur2/archlinux/aur/tests.py&quot;, line 29, in test_search_view
    'slug': 'unique_package',
  File &quot;/usr/lib/python2.6/site-packages/django/test/testcases.py&quot;, line 315, in assertRedirects
    (path, redirect_response.status_code, target_status_code))
AssertionError: Couldn't retrieve redirection page '/package/unique_package/': response code was 404 (expected 200)

I'm embarrassingly new to Django (started learning it last week), so I'm
not quite sure why this fails.
Manual tests of the vote code in a web browser succeed just fine, though.

&gt;<i> and I believe, after  
</I>&gt;<i> discussing it at length, a download counter was in favor of voting. I  
</I>&gt;<i> suppose this should be discussed again, or simply added now, and  
</I>&gt;<i> potentially removed later on, in favor of download-counting.
</I>
Yes, this is a perennial debate topic!
Either solution is fine with me.  Voting always seemed good, because
it requires active user effort [1].

I suppose that the abuse of the download counter could be lessened by
tracking IP addresses.  That has its own problems.  E.G., multiple
boxen behind one public IP address, people with many shell accounts or
friends, Big Brother is watching, et cetera.

*SNIP*
&gt;<i> Setting auto_now_add=True would make setting the when parameter  
</I>&gt;<i> unnecessary.
</I>
Ok, thanks.  I didn't notice that one.

-- Chris

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000054.html">[aur2-dev] [PATCH 2/2] Add voting for packages.
</A></li>
	<LI>Next message: <A HREF="000058.html">[aur2-dev] [PATCH 2/2] Add voting for packages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#57">[ date ]</a>
              <a href="thread.html#57">[ thread ]</a>
              <a href="subject.html#57">[ subject ]</a>
              <a href="author.html#57">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/aur2-dev">More information about the aur2-dev
mailing list</a><br>
</body></html>
