<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/aur2-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:aur2-dev%40lists.berlios.de?Subject=Re%3A%20%5Baur2-dev%5D%20%5BGit%5DProject%20aur2%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0&In-Reply-To=%3CCCDE4E11-ED88-43D2-8FCE-1E0A5F2B8597%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000028.html">
   <LINK REL="Next"  HREF="000033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0</H1>
    <B>Sebastian Nowicki</B> 
    <A HREF="mailto:aur2-dev%40lists.berlios.de?Subject=Re%3A%20%5Baur2-dev%5D%20%5BGit%5DProject%20aur2%20at%20BerliOS%20branch%2C%20master%2C%0A%09updated.%20f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0&In-Reply-To=%3CCCDE4E11-ED88-43D2-8FCE-1E0A5F2B8597%40gmail.com%3E"
       TITLE="[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0">sebnow at gmail.com
       </A><BR>
    <I>Fri Nov 20 06:35:38 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000028.html">[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
</A></li>
        <LI>Next message: <A HREF="000033.html">[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. 	f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32">[ date ]</a>
              <a href="thread.html#32">[ thread ]</a>
              <a href="subject.html#32">[ subject ]</a>
              <a href="author.html#32">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 19, 2009, at 7:32 AM, <A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A> wrote:

&gt;<i> commit f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
</I>&gt;<i> Author: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>&gt;<i> Date:   Thu Nov 19 00:28:47 2009 +0100
</I>&gt;<i>
</I>&gt;<i>    Add LICENSE file into the project
</I>&gt;<i>
</I>&gt;<i>    Signed-off-by: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>
Who said AUR2 is GPL v2? I'm not sure that it's the most appropriate  
license. I would prefer MIT, personally. Licensing should be discussed  
with all developers involved, and in this case, probably with a few of  
the Archlinux officials as well, for their opinion.

&gt;<i> commit 09903abb9144e3755ebcb4db362f974a92d0a3f4
</I>&gt;<i> Author: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>&gt;<i> Date:   Thu Nov 19 00:23:57 2009 +0100
</I>&gt;<i>
</I>&gt;<i>    Add AUTHORS file
</I>&gt;<i>
</I>&gt;<i>    Signed-off-by: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>
You forgot Joerie de Gram, the person who actually started this.

&gt;<i> commit 01e53c6c62db52c4309033d19e2ee50158396e9a
</I>&gt;<i> Author: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>&gt;<i> Date:   Wed Nov 18 23:28:10 2009 +0100
</I>&gt;<i>
</I>&gt;<i>    Fix some warnings in forms.py
</I>&gt;<i>
</I>&gt;<i>    Fix some of the warnings, like:
</I>&gt;<i>
</I>&gt;<i>    * Line too long
</I>&gt;<i>    * Bad indentation. Found 20 spaces, expected 16
</I>&gt;<i>
</I>&gt;<i>    Signed-off-by: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>
&gt;<i> -        repository_choices += [(repository.name.lower(),  
</I>&gt;<i> repository.name) for repository in Repository.objects.all()]
</I>&gt;<i> +        repository_choices += [(repository.name.lower(),  
</I>&gt;<i> repository.name) \
</I>&gt;<i> +                for repository in Repository.objects.all()]
</I>
Keeping lines under a certain amount of columns is nice, but not at  
the expense of readability. Is this necessary? Perhaps a better way to  
shorten it would be to use a for loop, instead of list comprehensions:

for repository in Repository.objects.all:
	repository_choices.append((repository.name.lower(), repository.name))

(Not tested.)

&gt;<i> -        # Find the packages by searching description and package  
</I>&gt;<i> name or maintainer
</I>&gt;<i> +        # Find the packages by searching description, package name  
</I>&gt;<i> or maintainer
</I>
You changed the meaning of the comment. It now implies that it  
searches description OR package name OR maintainer, when in fact it  
searches (description AND package name) OR maintainer. The comma  
should at most be after &quot;package name&quot;:

# Find the packages by searching the description and package name, or  
maintainer

&gt;<i> -        # Add path of the tarball/PKGBUILD so we can reference in  
</I>&gt;<i> other places
</I>&gt;<i> +        # Add path of the tarball/PKGBUILD we can reference in  
</I>&gt;<i> other places
</I>
Why did you change that? It's now grammatically incorrect.

&gt;<i> -         
</I>&gt;<i> package 
</I>&gt;<i> .repository 
</I>&gt;<i> =Repository.objects.get(name__iexact=self.cleaned_data['repository'])
</I>&gt;<i> +        package.repository = Repository.objects.get(name__iexact =  
</I>&gt;<i> self.cleaned_data['repository'])
</I>

This is against PEP8:
&gt;<i> - Don't use spaces around the '=' sign when used to indicate a
</I>&gt;<i>       keyword argument or a default parameter value.
</I>&gt;<i>
</I>&gt;<i>       Yes:
</I>&gt;<i>
</I>&gt;<i>           def complex(real, imag=0.0):
</I>&gt;<i>               return magic(r=real, i=imag)
</I>&gt;<i>
</I>&gt;<i>       No:
</I>&gt;<i>
</I>&gt;<i>           def complex(real, imag = 0.0):
</I>&gt;<i>               return magic(r = real, i = imag)
</I>&gt;<i>
</I>&gt;<i> commit b7e4ee575507cca7b61a42c0483c4c8a1bcb9fb3
</I>&gt;<i> Author: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>&gt;<i> Date:   Tue Nov 17 23:24:57 2009 +0100
</I>&gt;<i>
</I>&gt;<i>    Fix tabs to spaces in manage.py
</I>&gt;<i>
</I>&gt;<i>    Signed-off-by: Laszlo Papp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/aur2-dev">djszapi at archlinux.us</A>&gt;
</I>
&gt;<i>              if is_tarfile and  
</I>&gt;<i> os.path.exists(os.path.join(tmpdir_sources,
</I>&gt;<i>                 package.name, source_filename)):
</I>&gt;<i> -                    fp = File(open(os.path.join(tmpdir_sources,  
</I>&gt;<i> pkg['name'],
</I>&gt;<i> +                fp = File(open(os.path.join(tmpdir_sources,  
</I>&gt;<i> pkg['name'],
</I>&gt;<i>                          source_filename), &quot;r&quot;))
</I>&gt;<i> -                    source.filename.save('%(name)s/sources/' +  
</I>&gt;<i> source_filename, fp)
</I>&gt;<i> -                    fp.close()
</I>&gt;<i> +                source.filename.save('%(name)s/sources/' +  
</I>&gt;<i> source_filename, fp)
</I>&gt;<i> +                fp.close()
</I>
I'd suggest extracting paths of the if expression to variables, e.g.:

source_file = os.path.join(tmpdir_sources, package.name,  
source_filename)
if is_tarfile and os.path.exists(source_file):
     ...

This won't decrease readability.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/aur2-dev/attachments/20091120/c652a1e8/attachment.html">https://lists.berlios.de/pipermail/aur2-dev/attachments/20091120/c652a1e8/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000028.html">[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
</A></li>
	<LI>Next message: <A HREF="000033.html">[aur2-dev] [Git]Project aur2 at BerliOS branch, master,	updated. 	f7530b9e3b707cd8f305b89ae95cf8bc6288f9b0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32">[ date ]</a>
              <a href="thread.html#32">[ thread ]</a>
              <a href="subject.html#32">[ subject ]</a>
              <a href="author.html#32">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/aur2-dev">More information about the aur2-dev
mailing list</a><br>
</body></html>
